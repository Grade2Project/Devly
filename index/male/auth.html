<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Вход</title>
    <link rel="stylesheet" href="../all.css">
    <link rel="stylesheet" href="../styleguide.css">

    <style>
        body {
            background: url('../svg/auth_bg.svg') no-repeat fixed top center;
            background-size: 2920px 1024px;
            overflow-y: scroll;
        }
    </style>
</head>
<body>
<div class="form__container">
    <div class="form__body__FS">
        <span class="h1__central_46">Вход</span>

        <div class="input-line">
            <label for="auth_user_email" class="l">Почта</label><input class="text-input"
                                                                      type="email"
                                                                      id="auth_user_email"
                                                                      placeholder="example@mail.com"
                                                                      required>
        </div>
        <div class="input-line">
            <label for="auth_user_password" class="l">Пароль</label><input class="text-input"
                                                                          type="password"
                                                                          id="auth_user_password"
                                                                          required>
        </div>

        <button class="button__confirm color-red" type="submit" id="auth_submit"><span class="button__confirm_inner">Войти</span></button>
    </div>

    <a class="letter__17B_500" href="register.html" style="margin: 0 auto">Зарегистрироваться ᐳ</a>
</div>
<script src="../scripts/popup.js"></script>
<script src="../scripts/utils.js"></script>
<script src="../scripts/inputsValidity.js"></script>
<script>
    function auth(login, password) {
        sendJSON({
            login: login.value,
            password: password.value
        }, Controllers.AUTH, (statusCode, response) => {
            console.log(statusCode === 200 ? 'Успешная авторизация' : `Ошибка авторизации: ${statusCode}`);
            if (response) console.log(response);
        });
    }

    const authSubmit = document.getElementById('auth_submit');
    authSubmit.addEventListener('click', () => auth(
        document.getElementById('auth_user_email'),
        document.getElementById('auth_user_password')));
</script>
</body>
</html>